{"version":3,"file":"commonHelpers2.js","sources":["../src/JS/2-form.js"],"sourcesContent":["const form = document.querySelector('.feedback-form');\nconst storageKey = 'feedback-form-state';\nconst inputsData = {\n    email: '',\n    message: ''\n};\n\naddEventListener('load', () => {\n    restoreData();\n});\n\nconst handleInput = (e) => {\n    inputsData.email = e.currentTarget.elements.email.value.trim();\n    inputsData.message = e.currentTarget.elements.message.value.trim();\n    saveToLS(storageKey, inputsData);\n};\n\nconst handleSubmit = (e) => {\n    e.preventDefault();\n    validateForm();\n    console.log(inputsData);\n    form.reset();\n    localStorage.removeItem(storageKey);\n};\n\nfunction validateForm() {\n    if (form.elements.email.value === '' || form.elements.message.value === '') {\n        return alert('Please fill in all the fields!');\n    }\n}\n\nfunction restoreData() {\n    const inputsDataFromStore = loadFromLS(storageKey) || {\n        email: '',\n        message: '',\n    };\n    form.elements.email.value = inputsDataFromStore.email;\n    form.elements.message.value = inputsDataFromStore.message;\n}\n\nfunction loadFromLS(key = 'empty') {\n    const data = localStorage.getItem(key);\n    try {\n        const result = JSON.parse(data);\n        return result;\n    } catch {\n        return data;\n    }\n}\n\nfunction saveToLS(key, value) {\n    const jsonData = JSON.stringify(value);\n    localStorage.setItem(key, jsonData);\n}\n\nform.addEventListener('input', handleInput);\nform.addEventListener('submit', handleSubmit);"],"names":["form","storageKey","inputsData","restoreData","handleInput","saveToLS","handleSubmit","validateForm","inputsDataFromStore","loadFromLS","key","data","value","jsonData"],"mappings":"wFAAA,MAAMA,EAAO,SAAS,cAAc,gBAAgB,EAC9CC,EAAa,sBACbC,EAAa,CACf,MAAO,GACP,QAAS,EACb,EAEA,iBAAiB,OAAQ,IAAM,CAC3BC,GACJ,CAAC,EAED,MAAMC,EAAe,GAAM,CACvBF,EAAW,MAAQ,EAAE,cAAc,SAAS,MAAM,MAAM,OACxDA,EAAW,QAAU,EAAE,cAAc,SAAS,QAAQ,MAAM,OAC5DG,EAASJ,EAAYC,CAAU,CACnC,EAEMI,EAAgB,GAAM,CACxB,EAAE,eAAc,EAChBC,IACA,QAAQ,IAAIL,CAAU,EACtBF,EAAK,MAAK,EACV,aAAa,WAAWC,CAAU,CACtC,EAEA,SAASM,GAAe,CACpB,GAAIP,EAAK,SAAS,MAAM,QAAU,IAAMA,EAAK,SAAS,QAAQ,QAAU,GACpE,OAAO,MAAM,gCAAgC,CAErD,CAEA,SAASG,GAAc,CACnB,MAAMK,EAAsBC,EAAWR,CAAU,GAAK,CAClD,MAAO,GACP,QAAS,EACjB,EACID,EAAK,SAAS,MAAM,MAAQQ,EAAoB,MAChDR,EAAK,SAAS,QAAQ,MAAQQ,EAAoB,OACtD,CAEA,SAASC,EAAWC,EAAM,QAAS,CAC/B,MAAMC,EAAO,aAAa,QAAQD,CAAG,EACrC,GAAI,CAEA,OADe,KAAK,MAAMC,CAAI,CAEtC,MAAY,CACJ,OAAOA,CACV,CACL,CAEA,SAASN,EAASK,EAAKE,EAAO,CAC1B,MAAMC,EAAW,KAAK,UAAUD,CAAK,EACrC,aAAa,QAAQF,EAAKG,CAAQ,CACtC,CAEAb,EAAK,iBAAiB,QAASI,CAAW,EAC1CJ,EAAK,iBAAiB,SAAUM,CAAY"}